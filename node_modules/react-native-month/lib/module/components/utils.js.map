{"version":3,"names":["addDays","getNumberOfDaysInMonth","changedDate","changeMarkedDays","sameDate","SATURDAY","SUNDAY","MONDAY_FIRST","getMonthDays","month","year","firstDayMonday","disableRange","disabledDays","disableOffsetDays","startDate","endDate","minDate","maxDate","showSixWeeks","Date","setHours","firstMonthDay","daysToAdd","days","startWeekOffset","getDay","daysToCompleteRows","lastRowNextMonthDays","totalDays","sixWeekDays","i","date","day","getDate","localMonth","getMonth","fullDay","toString","fullMonth","id","getFullYear","isOnSelectableRange","isOutOfRange","isMonthDate","isStartDate","isEndDate","isActive","today","dow","isWeekend","isToday","push","key","isVisible","isHidden","areEqual","prevProps","nextProps","locale","Array","isArray","dayNames","showWeekdays","markedDays"],"sources":["utils.tsx"],"sourcesContent":["import { addDays, getNumberOfDaysInMonth } from '../utils/date';\nimport { changedDate, changeMarkedDays, sameDate } from '../utils/validations';\nimport { MonthProps, DayType } from '../types';\n\nconst SATURDAY = 6;\nconst SUNDAY = 0;\nconst MONDAY_FIRST = [6, 0, 1, 2, 3, 4, 5];\n\nexport function getMonthDays(\n  month: number,\n  year: number,\n  firstDayMonday: boolean,\n  disableRange: boolean,\n  disabledDays: { [key: string]: any },\n  disableOffsetDays: boolean,\n  startDate?: Date,\n  endDate?: Date,\n  minDate?: Date,\n  maxDate?: Date,\n  showSixWeeks?: boolean\n): DayType[] {\n  if (minDate instanceof Date) minDate.setHours(0, 0, 0, 0);\n  if (maxDate instanceof Date) maxDate.setHours(0, 0, 0, 0);\n  if (startDate instanceof Date) startDate.setHours(0, 0, 0, 0);\n  if (endDate instanceof Date) endDate.setHours(0, 0, 0, 0);\n\n  const firstMonthDay = new Date(year, month, 1);\n\n  const daysToAdd = getNumberOfDaysInMonth(month, year);\n  const days: DayType[] = [];\n\n  const startWeekOffset = firstDayMonday\n    ? MONDAY_FIRST[firstMonthDay.getDay()]\n    : firstMonthDay.getDay();\n  const daysToCompleteRows = (startWeekOffset + daysToAdd) % 7;\n  let lastRowNextMonthDays = daysToCompleteRows ? 7 - daysToCompleteRows : 0;\n  const totalDays = startWeekOffset + daysToAdd + lastRowNextMonthDays;\n  const sixWeekDays = 42;\n\n  if (showSixWeeks && totalDays !== sixWeekDays) {\n    lastRowNextMonthDays += sixWeekDays - totalDays;\n  }\n\n  for (let i = -startWeekOffset; i < daysToAdd + lastRowNextMonthDays; i++) {\n    const date: Date = addDays(firstMonthDay, i);\n    const day = date.getDate();\n    const localMonth = date.getMonth();\n    const fullDay = day < 10 ? `0${day}` : day.toString();\n    const fullMonth =\n      localMonth < 9 ? `0${localMonth + 1}` : (localMonth + 1).toString();\n    const id = `${date.getFullYear()}-${fullMonth}-${fullDay}`;\n\n    let isOnSelectableRange = !minDate && !maxDate;\n\n    isOnSelectableRange =\n      (!minDate || (minDate && date >= minDate)) &&\n      (!maxDate || (maxDate && date <= maxDate));\n\n    const isOutOfRange = !!(\n      (minDate && date < minDate) ||\n      (maxDate && date > maxDate)\n    );\n    const isMonthDate = i >= 0 && i < daysToAdd;\n    let isStartDate = false;\n    let isEndDate = false;\n    let isActive = false;\n\n    if (endDate && startDate && !disableRange) {\n      isStartDate = isMonthDate && sameDate(date, startDate);\n      isEndDate = isMonthDate && sameDate(date, endDate);\n\n      if (!isMonthDate) {\n        isActive = false;\n      } else {\n        isActive = date >= startDate && date <= endDate;\n      }\n    } else if (isMonthDate && startDate && sameDate(date, startDate)) {\n      isStartDate = true;\n      isEndDate = true;\n      isActive = true;\n    }\n\n    const today = new Date();\n    const dow = date.getDay();\n    const isWeekend = dow === SATURDAY || dow === SUNDAY;\n    const isToday =\n      day === today.getDate() &&\n      localMonth === today.getMonth() &&\n      year === today.getFullYear();\n\n    days.push({\n      key: `${localMonth}-${id}`,\n      id: id,\n      date,\n      isToday,\n      isWeekend,\n      isMonthDate,\n      isActive,\n      isStartDate,\n      isEndDate,\n      isOutOfRange,\n      isVisible: isOnSelectableRange && isMonthDate && !disabledDays[id],\n      isHidden: disableOffsetDays && !isMonthDate,\n    });\n  }\n\n  return days;\n}\n\nexport function areEqual(prevProps: MonthProps, nextProps: MonthProps) {\n  return (\n    prevProps.month === nextProps.month &&\n    prevProps.year === nextProps.year &&\n    prevProps.locale === nextProps.locale &&\n    Array.isArray(prevProps.dayNames) === Array.isArray(nextProps.dayNames) &&\n    prevProps.showWeekdays === nextProps.showWeekdays &&\n    prevProps.disableRange === nextProps.disableRange &&\n    prevProps.disableOffsetDays === nextProps.disableOffsetDays &&\n    prevProps.firstDayMonday === nextProps.firstDayMonday &&\n    !changeMarkedDays(prevProps.markedDays, nextProps.markedDays) &&\n    !changedDate(prevProps.startDate, nextProps.startDate) &&\n    !changedDate(prevProps.endDate, nextProps.endDate) &&\n    !changedDate(prevProps.minDate, nextProps.minDate) &&\n    !changedDate(prevProps.maxDate, nextProps.maxDate)\n  );\n}\n"],"mappings":"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"}